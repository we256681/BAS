# BAS (Browser Automation Studio) - Docker Implementation

Browser Automation Studio - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ —Å –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

## üöÄ Quick Start

### Docker Compose (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/we256681/BAS.git
cd BAS

# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up --build

# –ò–ª–∏ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
docker-compose up --build -d
```

### Manual Docker Build
```bash
# –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
docker build -t bas-app .

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker run -p 10000-20000:10000-20000 -p 8080:8080 bas-app
```

## üåê Web Interface Access

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å–∞–º:

- **üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: http://localhost:8080
- **üîß Toolbox (Monaco Editor)**: http://localhost:8080/toolbox
- **üìù Scenario Editor**: http://localhost:8080/scenario  
- **‚öôÔ∏è Settings**: http://localhost:8080/central
- **üìÖ Scheduler**: http://localhost:8080/scheduler

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìù –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤
- **Monaco Editor** - –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- **IntelliSense** - –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö BAS** —á–µ—Ä–µ–∑ –º–∞—Ä–∫–µ—Ä—ã `[[VARIABLE_NAME]]`
- **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ JavaScript** –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±—Ä–∞—É–∑–µ—Ä–∞

### üéØ –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **Drag & Drop** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤
- **–ì–æ—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** –ª–æ–≥–∏–∫–∏ —Å–∫—Ä–∏–ø—Ç–∞

### üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
- **Chrome DevTools** –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **–ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** —Å–∫—Ä–∏–ø—Ç–æ–≤
- **–°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫** —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ `[[WAS_ERROR]]` –∏ `[[LAST_ERROR]]`
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤** –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

### üì¶ –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏
- **–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤** –∏–∑ —Ñ–∞–π–ª–æ–≤
- **–ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç** –≥–æ—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
- **–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** –¥–ª—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

## üîå WebSocket Connection

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç WebSocket —Å–µ—Ä–≤–µ—Ä –Ω–∞ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—Ç—É –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 10000-20000.

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ WebSocket
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ä—Ç–∞ WebSocket
docker logs <container_id>

# –ò–ª–∏ –¥–ª—è docker-compose
docker-compose logs
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket
```javascript
// –ü—Ä–∏–º–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ WebSocket —Å–µ—Ä–≤–µ—Ä—É
const ws = new WebSocket('ws://localhost:PORT');
ws.onopen = () => console.log('Connected to BAS WebSocket');
```

## üõ†Ô∏è Development

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Node.js
npm install

# –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
npm start

# –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8080
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
BAS/
‚îú‚îÄ‚îÄ ChromeWorker/html/          # HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ toolbox/               # Monaco Editor
‚îÇ   ‚îú‚îÄ‚îÄ scenario/              # –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ central/               # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ scheduler/             # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
‚îú‚îÄ‚îÄ Engine/                    # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ C++
‚îú‚îÄ‚îÄ docker-web-server.js       # Node.js –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ Dockerfile                 # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ docker-compose.yml         # Docker Compose
```

## üêõ Troubleshooting

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑
docker-compose build --no-cache
```

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker ps

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã
netstat -tulpn | grep 8080
```

### JavaScript –æ—à–∏–±–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
1. –û—Ç–∫—Ä—ã—Ç—å Developer Tools (F12)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Console –Ω–∞ –æ—à–∏–±–∫–∏
3. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ JavaScript –æ—à–∏–±–∫–∏:**
- `SyntaxError: Unexpected token 'else'` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É Underscore.js —à–∞–±–ª–æ–Ω–æ–≤
- `Template file disabled in Docker mode` - –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, —à–∞–±–ª–æ–Ω—ã –∑–∞–º–µ–Ω–µ–Ω—ã –∑–∞–≥–ª—É—à–∫–∞–º–∏
- Monaco Editor –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –ø–æ—Ä—Ç–∞ WebSocket
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ—Ä—Ç—ã 10000-20000 –æ—Ç–∫—Ä—ã—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–æ–±–ª–µ–º—ã —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —à–∞–±–ª–æ–Ω–æ–≤
Docker –≤–µ—Ä—Å–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ Underscore.js —à–∞–±–ª–æ–Ω–æ–≤:
- –§–∞–π–ª—ã —Å –æ–±—à–∏—Ä–Ω—ã–º template —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –∑–∞–º–µ–Ω—è—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –∑–∞–≥–ª—É—à–∫–∞–º–∏
- –°–ª–æ–∂–Ω—ã–µ control structures (`if/else`, —Ü–∏–∫–ª—ã) –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—è—é—Ç—Å—è
- Template expressions (`<%= %>`) –∑–∞–º–µ–Ω—è—é—Ç—Å—è –ø—É—Å—Ç—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏
- Orphaned `else` statements –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è

**–§–∞–π–ª—ã —Å template –æ–±—Ä–∞–±–æ—Ç–∫–æ–π:**
- `functionmanager.js` - –∑–∞–º–µ–Ω–µ–Ω –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∑–∞–≥–ª—É—à–∫–æ–π
- `tooledViewPlugin.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ template expressions
- `documents.js` - —Å–æ–∑–¥–∞–Ω–∏–µ DocumentsStore –∑–∞–≥–ª—É—à–∫–∏
- `modal.js` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ Inspector.Modal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## üìö Usage Examples

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:8080/toolbox
2. –í Monaco Editor –Ω–∞–ø–∏—Å–∞—Ç—å JavaScript –∫–æ–¥:
```javascript
// –ü—Ä–∏–º–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
document.getElementById("search").value = "BAS automation";
document.querySelector("button[type=submit]").click();
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö BAS
```javascript
// –ß—Ç–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
let searchTerm = [[SEARCH_QUERY]];

// –ó–∞–ø–∏—Å—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
[[RESULT_TEXT]] = document.querySelector(".result").innerText;
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```javascript
try {
    // –í–∞—à –∫–æ–¥
    document.querySelector(".element").click();
} catch (error) {
    [[WAS_ERROR]] = true;
    [[LAST_ERROR]] = error.message;
}
```

### –†–∞–±–æ—Ç–∞ —Å –≤–∏–∑—É–∞–ª—å–Ω—ã–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:8080/scenario
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Drag & Drop –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–ª–æ–∫–æ–≤ –¥–µ–π—Å—Ç–≤–∏–π
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π –ø–æ—à–∞–≥–æ–≤–æ

### –û—Ç–ª–∞–¥–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chrome DevTools –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ JavaScript
2. –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ BAS —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
3. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–ª—è —Å–≤—è–∑–∏ —Å backend
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é —Å–∫—Ä–∏–ø—Ç–æ–≤

### –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
1. –û—Ç–∫—Ä—ã—Ç—å http://localhost:8080/scheduler
2. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

## ü§ù Contributing

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞—Ç—å feature branch
3. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞—Ç—å Pull Request

## üìÑ License

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –ª–∏—Ü–µ–Ω–∑–∏—é BAS (Browser Automation Studio).

## üîó Links

- **Original BAS**: [Browser Automation Studio](https://bablosoft.com/shop/BrowserAutomationStudio)
- **Docker Hub**: (–±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)
- **Documentation**: –°–º. —Ñ–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `ChromeWorker/html/`
